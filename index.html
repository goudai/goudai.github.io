<!doctype html>
<html lang="zh-CN">
<head>
	<meta name="generator" content="Hugo 0.98.0" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    

    <title>青木的博客 | 道可道，非常道；名可名，非常名。</title>
    <meta property="og:title" content="青木的博客 | 道可道，非常道；名可名，非常名。">
    <meta property="og:type" content="website">
    <meta name="Keywords" content="golang,go语言,go语言笔记,青木,java,博客,项目管理,软件架构">
    <meta name="description" content="专注于IT互联网，包括但不限于Go语言(golang)、Java、项目管理、软件架构等">
    <meta property="og:url" content="https://goudai.github.io/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml" href="https://goudai.github.io/index.xml" title="青木的博客" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>

<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <h1>
                        <a id="logo" href="https://goudai.github.io/">
                            青木的博客
                        </a>
                    </h1>
                
                <p class="description">道可道，非常道；名可名，非常名。</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://goudai.github.io/">首页</a>
                    
                    <a  href="https://goudai.github.io/categories/" title="归档">归档</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Spring-Boot-Operator-User-Guide/" title="使用Spring Boot Operator部署SpringBoot到K8S">使用Spring Boot Operator部署SpringBoot到K8S</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年4月8日
        </date>
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<p>在Kubernetes中部署spring boot应用整体上来说是一件比较繁琐的事情，而<a href="https://github.com/goudai/spring-boot-operator">Spring Boot Operator</a>则能带给你更清爽简单的体验。</p>
<p><a href="https://github.com/goudai/spring-boot-operator">Spring Boot Operator</a>基于Kubernetes的<a href="https://kubernetes.io/docs/tasks/access-kubernetes-api/extend-api-custom-resource-definitions">custom resource definitions (CRDs)</a>扩展API进行的开发。</p>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Spring-Boot-Operator-User-Guide/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Monitor-ETCD/" title="Prometheus Operator监控ETCD">Prometheus Operator监控ETCD</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年9月2日
        </date>
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<p>在前面的文章<a href="https://qingmu.io/2019/08/30/Customize-your-kube-prometheus/">优雅的使用Prometheus Operator</a>中我们搭建好了基础的监控平台和图表.
现在我们可以将etcd也纳入监控范围内了。</p>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Monitor-ETCD/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Monitor-springboot-microservices/" title="Prometheus Operator监控SpringCloud">Prometheus Operator监控SpringCloud</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年9月1日
        </date>
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<ul>
<li>在上一篇文章<a href="https://qingmu.io/2019/08/30/Customize-your-kube-prometheus/">优雅的使用Prometheus Operator</a>中我们搭建起来了监控的基础堆栈。下来我们来监控我们的业务服务。</li>
<li>监控这个SpringCloud的java微服务的方式有很多，比如说基于eureka的服务型和基于kubernetes的endpoints的注解服务发现。</li>
</ul>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Monitor-springboot-microservices/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Customize-your-kube-prometheus/" title="优雅的使用Prometheus Operator">优雅的使用Prometheus Operator</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月30日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category"><a href='/categories/%E5%90%8E%E7%AB%AF'>后端</a></span>
            
        </div>
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<p>为了方便大家使用prometheus，<code>Coreos</code>出了提供了一个Operator<a href="https://github.com/coreos/prometheus-operator">Prometheus Operator</a>，而为了方便大家一站式的监控方案就有了项目<a href="https://github.com/coreos/kube-prometheus">kube-prometheus</a>是一个脚本项目，它主要使用<code>jsonnet</code>写成，其作用呢就是模板+参数然后渲染出yaml文件集，主要是作用是提供一个开箱即用的监控栈，用于kubernetes集群的监控和应用程序的监控。
这个项目主要包括以下软件栈</p>
<ul>
<li>Prometheus Operator</li>
<li>Highly available Prometheus</li>
<li>Highly available Alertmanager</li>
<li>Prometheus node-exporter</li>
<li>Prometheus Adapter for Kubernetes Metrics APIs</li>
<li>Kube-state-metrics</li>
<li>Grafana</li>
</ul>
<p>说是开箱即用，确实也是我们只需要clone下来，然后<code>kubectl apply ./manifests</code>，manifests目录中生成的是预先生成的yaml描述文件，有诸多不方便的地方，比如说</p>
<ul>
<li>镜像仓库的地址都在gcr和query.io，这两个地址国内拉起来都费劲</li>
<li>没有持久化存储promethus的数据</li>
</ul>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Customize-your-kube-prometheus/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Run-the-business-service-to-complete-the-service-call-using-Feign/" title="部署业务并使用Feign进行服务间调用（附带一部分源码分析）">部署业务并使用Feign进行服务间调用（附带一部分源码分析）</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月16日
        </date>
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<p>在前面我们搭建起来了<a href="https://qingmu.io/2019/08/07/Run-eureka-cluster-on-kubernetes/">eureka</a>,和<a href="https://qingmu.io/2019/08/09/Run-the-configuration-hub-cluster-on-kubernetes/">配置中心</a>，基于这两者我们就能愉快的写业务代码了。这章节我们看下怎么业务服务和业务服务直接如何完成调用。</p>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Run-the-business-service-to-complete-the-service-call-using-Feign/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Run-mysql-on-kubernetes/" title="从部署mysql聊一聊有状态服务和PV及PVC">从部署mysql聊一聊有状态服务和PV及PVC</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月11日
        </date>
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<p>部署mysql之前我们需要先了解一个概念<code>有状态服务</code>。这是一种特殊的服务，简单的归纳下就是会产生需要持久化的数据，并且有很强的I/O需求，且重启需要依赖上次存储到磁盘的数据。如典型的mysql，kafka，zookeeper等等。</p>
<p>在我们有比较优秀的商业存储的前提下，灰常推荐使用<code>有状态服务</code>进行部署，计算和存储分离那是相当的爽的。在实际生产中如果没有这种存储，才有localPV也是不错的选择，当然local pv其实呢和hostPath是一样的。当然我们在开发测试环境也是可以自己搭建一套简单的如NFS服务，来享受存储和计算分离的爽快感。</p>
<p>kubernetes中定义一种了资源类型<code>Stateful Service</code>即有状态服务，有状态服务需要的持久化数据动态绑定我们可以利用存储的API PersistentVolume（PV）和PersistentVolumeClaim（PVC）来进行需要的相关数据的绑定和存储。</p>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Run-mysql-on-kubernetes/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Run-distributed-trace-zipkin-in-kubernetes/" title="在kubernetes运行分布式追踪zipkin">在kubernetes运行分布式追踪zipkin</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月10日
        </date>
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<p><a href="https://zipkin.io">Zipkin</a>是一个开放<a href="https://github.com/openzipkin/zipkin">源代码</a>分布式的跟踪系统，每个服务向zipkin报告计时数据，zipkin会根据调用关系通过Zipkin UI生成依赖关系图。简单的来说就是个http服务器
它支持多种后端存储（&ldquo;cassandra&rdquo;,&ldquo;mysql&rdquo;,&ldquo;elasticsearch&rdquo;）持久化客户端推送过来的数据.</p>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Run-distributed-trace-zipkin-in-kubernetes/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Run-the-configuration-hub-cluster-on-kubernetes/" title="在kubernetes上运行SpringCloud配置中心">在kubernetes上运行SpringCloud配置中心</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月9日
        </date>
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<p>在分布式系统中，我们的配置管理起来是很麻烦的一件事儿，特别是在如果没有配置中心的时候。在我们java开发中，一般而言会将敏感配置信息（如DB的user，password），数据库的地址，redis地址等等，
一系列配置信息和项目代码解耦，根据每个环境单独配置，这样一来是方便不需要改代码，也不需要在项目中冗余多份，二来是更加的安全。那么分离之后我们将面临的问题是怎么读取这个配置文件：</p>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Run-the-configuration-hub-cluster-on-kubernetes/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Run-eureka-cluster-on-kubernetes/" title="在kubernetes上运行eureka集群">在kubernetes上运行eureka集群</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月7日
        </date>
        
        <div class="post-content">
            <h1 id="前言">前言</h1>
<p>eureka 在springcloud体系中，主要实现一个注册中心的角色，所有的服务都将注册到eureke中，调用用者将从这里通过名称获取到对应的服务的IP集合列表。
作为一个分布式系统eureka在CAP中，选中了AP，优先保证可用性，放弃了强一致性，这样设计也符合注册中心的需要。
当发生网络分区故障（15分钟内超过85%的节点都没有正常的心跳），eureka会启用注册保护，即维持住当前心跳虽然失败的服务列表，并不进行删除。并能正常的提供查询服务（虽然不是最新）和注册服务（即不会同步到其他eureka节点），当网络恢复时，eureka会正确的同步信息，和恢复删除过期节点信息。</p>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Run-eureka-cluster-on-kubernetes/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://goudai.github.io/posts/Run-Spring-Cloud-Gateway-on-kubernetes-2/" title="在kubernetes上运行Spring Cloud Gateway（二）">在kubernetes上运行Spring Cloud Gateway（二）</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月7日
        </date>
        
        <div class="post-content">
            <p>在<a href="https://qingmu.io/2019/08/06/Run-Spring-Cloud-Gateway-on-kubernetes/">https://qingmu.io/2019/08/06/Run-Spring-Cloud-Gateway-on-kubernetes/</a>文章中，我们搭建好了基本的网关的架子。这篇文章中
我们继续剩下的部分，将网关和部署到k8s中，并结合<code>Ingress</code>完成域名访问我们的网关，通过<code>Secret</code>完成网关HTTPS的安全加密。</p>……
        </div>
        <p class="readmore"><a href="https://goudai.github.io/posts/Run-Spring-Cloud-Gateway-on-kubernetes-2/">阅读全文</a></p>
    </article>
    
    
    



<ol class="page-navigator">
    

    
    <li  class="current">
        <a href="https://goudai.github.io/">1</a>
    </li>
    
    <li >
        <a href="https://goudai.github.io/page/2/">2</a>
    </li>
    
    <li >
        <a href="https://goudai.github.io/page/3/">3</a>
    </li>
    

    
    <li class="next">
        <a href="https://goudai.github.io/page/2/">下一页</a>
    </li>
    
</ol>



</div>

                    <footer id="footer">
    <div>
        &copy; 2022 <a href="https://goudai.github.io/">青木的博客 By 青木</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>



        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>
    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://goudai.github.io/search' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://goudai.github.io/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://goudai.github.io/posts/Spring-Boot-Operator-User-Guide/" title="使用Spring Boot Operator部署SpringBoot到K8S">使用Spring Boot Operator部署SpringBoot到K8S</a>
    </li>
    
    <li>
        <a href="https://goudai.github.io/posts/Monitor-ETCD/" title="Prometheus Operator监控ETCD">Prometheus Operator监控ETCD</a>
    </li>
    
    <li>
        <a href="https://goudai.github.io/posts/Monitor-springboot-microservices/" title="Prometheus Operator监控SpringCloud">Prometheus Operator监控SpringCloud</a>
    </li>
    
    <li>
        <a href="https://goudai.github.io/posts/Customize-your-kube-prometheus/" title="优雅的使用Prometheus Operator">优雅的使用Prometheus Operator</a>
    </li>
    
    <li>
        <a href="https://goudai.github.io/posts/Run-the-business-service-to-complete-the-service-call-using-Feign/" title="部署业务并使用Feign进行服务间调用（附带一部分源码分析）">部署业务并使用Feign进行服务间调用（附带一部分源码分析）</a>
    </li>
    
    <li>
        <a href="https://goudai.github.io/posts/Run-mysql-on-kubernetes/" title="从部署mysql聊一聊有状态服务和PV及PVC">从部署mysql聊一聊有状态服务和PV及PVC</a>
    </li>
    
    <li>
        <a href="https://goudai.github.io/posts/Run-distributed-trace-zipkin-in-kubernetes/" title="在kubernetes运行分布式追踪zipkin">在kubernetes运行分布式追踪zipkin</a>
    </li>
    
    <li>
        <a href="https://goudai.github.io/posts/Run-the-configuration-hub-cluster-on-kubernetes/" title="在kubernetes上运行SpringCloud配置中心">在kubernetes上运行SpringCloud配置中心</a>
    </li>
    
    <li>
        <a href="https://goudai.github.io/posts/Run-eureka-cluster-on-kubernetes/" title="在kubernetes上运行eureka集群">在kubernetes上运行eureka集群</a>
    </li>
    
    <li>
        <a href="https://goudai.github.io/posts/Run-Spring-Cloud-Gateway-on-kubernetes-2/" title="在kubernetes上运行Spring Cloud Gateway（二）">在kubernetes上运行Spring Cloud Gateway（二）</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>分类</a></h3>
<ul class="widget-list">
    
    <li><a href="https://goudai.github.io/categories/%E5%90%8E%E7%AB%AF/">后端 (1)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="https://goudai.github.io/tags/EFK/">EFK</a>
    
    <a href="https://goudai.github.io/tags/Java/">Java</a>
    
    <a href="https://goudai.github.io/tags/kubernetes/">kubernetes</a>
    
    <a href="https://goudai.github.io/tags/Mysql/">Mysql</a>
    
    <a href="https://goudai.github.io/tags/Prometheus/">Prometheus</a>
    
    <a href="https://goudai.github.io/tags/SpringBoot/">SpringBoot</a>
    
    <a href="https://goudai.github.io/tags/SpringCloud/">SpringCloud</a>
    
    <a href="https://goudai.github.io/tags/SpringGateway/">SpringGateway</a>
    
    <a href="https://goudai.github.io/tags/docker/">docker</a>
    
    <a href="https://goudai.github.io/tags/elasticsearch/">elasticsearch</a>
    
    <a href="https://goudai.github.io/tags/gitlab/">gitlab</a>
    
    <a href="https://goudai.github.io/tags/hpa/">hpa</a>
    
    <a href="https://goudai.github.io/tags/jvm/">jvm</a>
    
    <a href="https://goudai.github.io/tags/kafka/">kafka</a>
    
    <a href="https://goudai.github.io/tags/kubernetes/">kubernetes</a>
    
    <a href="https://goudai.github.io/tags/metrics-server/">metrics-server</a>
    
    <a href="https://goudai.github.io/tags/springclod/">springclod</a>
    
    <a href="https://goudai.github.io/tags/zuul/">zuul</a>
    
    <a href="https://goudai.github.io/tags/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">异常处理</a>
    
    <a href="https://goudai.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务</a>
    
    <a href="https://goudai.github.io/tags/%E6%BA%90%E7%A0%81/">源码</a>
    
    <a href="https://goudai.github.io/tags/%E7%9B%91%E6%8E%A7/">监控</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://goudai.github.io/" title="青木的博客">青木的博客</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://goudai.github.io/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>